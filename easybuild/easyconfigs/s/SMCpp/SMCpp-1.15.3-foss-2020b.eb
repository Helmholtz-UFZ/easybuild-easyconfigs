easyblock = "PythonPackage"

name = 'SMCpp'
version = '1.15.3'

homepage = "https://github.com/popgenmethods/smcpp"
description = "SMC++ is a program for estimating the size history of populations from whole genome sequence data."

toolchain = {'name': 'foss', 'version': '2020b'}
toolchainopts = {
    'cstd': 'c++11', 'pic': True,
    'extra_fflags': '-fallow-invalid-boz -fallow-argument-mismatch',
}

use_pip: True

sources = [{
    'filename': 'SMCpp-%(version)s.tar.gz',
    'git_config': {
        'url': 'https://github.com/popgenmethods',
        'repo_name': 'smcpp',
        'tag': 'v1.15.3',
        'keep_git_dir': True,
    },
}]
checksums = ['878000f7f128c450ca8063dae842d97632a441f2b03063424097cde54de789fa']

dependencies = [
    ('Python', '3.8.6'),
    ('SciPy-bundle', '2020.11'),
    ('GMP', '6.2.0'),
    ('MPFR', '4.1.0'),
    ('GSL', '2.6'),
]

sanity_pip_check = True

skipsteps = ['sanitycheck']

moduleclass = "bio"
