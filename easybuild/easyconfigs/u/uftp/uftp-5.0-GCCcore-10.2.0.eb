easyblock = 'ConfigureMake'

name = 'uftp'
version = '5.0'

homepage = 'http://uftp-multicast.sourceforge.net/'
description = "Encrypted UDP based FTP with multicast"

toolchain = {'name': 'GCCcore', 'version': '10.2.0'}

source_urls = ['https://sourceforge.net/projects/uftp-multicast/files/source-tar/']
sources = ['uftp-%(version)s.tar.gz']
patches = ['uftp-5.0-destdir-without-usr.patch']
checksums = [
    '562f71ea5a24b615eb491f5744bad01e9c2e58244c1d6252d5ae98d320d308e0',  # uftp-5.0.tar.gz
    'd1aa3c5b2dc12def81a0f022a4214e37ff9ca8842c76a6a8a99430e71e3d6595',  # uftp-5.0-destdir-without-usr.patch
]

builddependencies = [('binutils', '2.35')]

skipsteps = ['configure']

buildopts = 'CXX="$CXX" CXXFLAGS="$CXXFLAGS"'
installopts = 'DESTDIR=%(installdir)s'

sanity_check_paths = {
    'files': ['bin/uftp'],
    'dirs': [],
}

moduleclass = 'tools'
