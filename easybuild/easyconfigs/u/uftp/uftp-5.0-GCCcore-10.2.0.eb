easyblock = 'ConfigureMake'

name = 'uftp'
version = '5.0'

homepage = 'http://uftp-multicast.sourceforge.net/'
description = "Encrypted UDP based FTP with multicast"

toolchain = {'name': 'GCCcore', 'version': '10.2.0'}

source_urls = ['https://sourceforge.net/projects/uftp-multicast/files/source-tar/']
sources = ['uftp-%(version)s.tar.gz']
patches = ['uftp-5.0-destdir-without-usr.patch']
checksums = [
    '562f71ea5a24b615eb491f5744bad01e9c2e58244c1d6252d5ae98d320d308e0', # uftp-5.0.tar.gz
    '0d04ada8257afba6f35a1a897435b876ee0c80f035d429375014e7eb50276aa4', # uftp-5.0-destdir-without-usr.patch
]

#builddependencies = [('OpenSSL', '1.1.1h')]
builddependencies = [('binutils', '2.35')]

#dependencies = [('OpenSSL', '1.1.1h')]


skipsteps = ['configure']

buildopts = 'CXX="$CXX" CXXFLAGS="$CXXFLAGS"'
installopts = 'DESTDIR=%(installdir)s'

sanity_check_paths = {
    'files': ['bin/uftp'],
    'dirs': [],
}

moduleclass = 'tools'
